(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{457:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(477),o=n(453),c=n(479),l=Object(r.a)({apiKey:"AIzaSyC8sIBjgbchQWZ2re2tcjHThj_ocN-iwX4",authDomain:"easynote-b7a57.firebaseapp.com",projectId:"easynote-b7a57",storageBucket:"easynote-b7a57.appspot.com",messagingSenderId:"676050946923",appId:"1:676050946923:web:61b680ceac071ad2419a2e",measurementId:"G-0PJD1E9Q2Y"}),d=Object(o.f)(l);Object(c.a)(l)},494:function(t,e,n){var content=n(565);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("f090f23c",content,!0,{sourceMap:!1})},564:function(t,e,n){"use strict";n(494)},565:function(t,e,n){var r=n(21)((function(i){return i[1]}));r.push([t.i,".cancel-btn{background-color:#ce2b2b!important}.save-btn{background-color:#008907!important}",""]),r.locals={},t.exports=r},587:function(t,e,n){"use strict";n.r(e);var r=n(581),o=n(218),c=n(490),l=n(454),d=n(580),f=n(447),m=n(585),h=n(584),v=n(582),y=n(483),x=n(583),O=n(195),j=n(500),k=n(579),_=n(444),w=n(498),D=n(50),I=n(205),R=(n(37),n(25),n(204),n(16)),C=n(35),E=n(2),S=(n(110),n(34),n(13),n(12),n(200),n(55),n(17),n(18),n(10),n(5),n(73),n(66),n(11),n(457)),B=n(453),T=(n(572),n(493)),F=n.n(T),P=n(126);function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){Object(E.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var z={data:function(){return{search:"",saveMode:"",menudate:!1,dateFormatted:null,date:null,dialog:!1,dialogDelete:!1,name:"",data:"",category:"",categoryList:["สิ่งที่ต้องทำ","งาน","รายการที่ต้องซื้อ","อื่นๆ"],categoryListSearch:["ทั้งหมด","สิ่งที่ต้องทำ","งาน","รายการที่ต้องซื้อ","อื่นๆ"],headers:[Object(E.a)({text:"ชื่อ",align:"start",sortable:!1,value:"name"},"align","center"),{text:"รายการ",value:"data",sortable:!1,align:"center"},{text:"วันที่บันทึก",value:"date",sortable:!1,align:"center"},{text:"หมวดหมู่",value:"category",align:"center"},{text:"การจัดการ",value:"actions",sortable:!1,align:"center"},{text:"ดูประวัติ",value:"actions2",sortable:!1,align:"center"}],items_data:[],defaultItem:{name:"",data:"",date:"",category:"",editHistory:[]},data2:[]}},computed:{filteredItems:function(){if(!this.search||"ทั้งหมด"===this.search)return this.items_data;var t=this.search.trim().toLowerCase();return this.items_data.filter((function(e){return"string"==typeof e.category&&e.category.toLowerCase().includes(t)}))}},watch:{date:function(t){this.dateFormatted=this.formatDate(t)},dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},created:function(){this.listData(),this.getUserData(),this.setInitialDate()},methods:L(L({},Object(P.c)({SET_REFID:"users/SET_REFID"})),{},Object(E.a)(Object(E.a)(Object(E.a)(Object(E.a)(Object(E.a)(Object(E.a)(Object(E.a)(Object(E.a)({openDialog:function(){this.dialog=!0,this.formTitle="เพิ่มรายการ"},setInitialDate:function(){var t=new Date;this.date=t.toISOString().substr(0,10),this.dateFormatted=this.formatDate(this.date)},getUserData:function(){var t=this;return Object(C.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(B.e)(Object(B.b)(S.a,"user"));case 3:e.sent.forEach((function(e){var n=e.data();t.name=n.email})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching user data: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},close:function(){this.dialog=!1,this.$nextTick((function(){}))},formatDate:function(t){var e="";if(""===t||null===t)e=null;else{var n=t.split("-"),r=Object(R.a)(n,3),o=r[0],c=r[1],l=r[2];e="".concat(l,"/").concat(c,"/").concat(parseInt(o)+543)}return e},formatDateInsert:function(t){var e=null;if(t){var n=t.split("-");if(3===n.length){var r=Object(R.a)(n,3),o=r[0],c=r[1],l=r[2],d=parseInt(o)+543;e="".concat(l,"/").concat(c,"/").concat(d)}}return e},initialize:function(){this.items_data=[]}},"close",(function(){this.dialog=!1,this.$nextTick((function(){}))})),"closeDelete",(function(){this.dialogDelete=!1,this.$nextTick((function(){}))})),"saveEdit",(function(){var t=this;return Object(C.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F.a.fire({title:"ต้องการแก้ไขข้อมูลนี้หรือไม่?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"ยกเลิก",confirmButtonText:"ยืนยัน"}).then(function(){var e=Object(C.a)(regeneratorRuntime.mark((function e(n){var r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConfirmed){e.next=20;break}return r=Object(B.b)(S.a,"history"),e.next=4,Object(B.e)(r);case 4:return o=e.sent,o.size,e.next=8,Object(B.a)(Object(B.b)(S.a,"history"),{name:t.name,date:t.date,data:t.data,category:t.category,refId:t.refId});case 8:return e.sent,c=Object(B.d)(S.a,"note",t.refId),e.next=12,Object(B.h)(c,{name:t.name,date:t.date,data:t.data,category:t.category});case 12:F.a.fire({title:"แก้ไขข้อมูลสำเร็จ",icon:"success",showCancelButton:!1}),t.data="",t.category="",t.saveMode="",t.close(),t.listData(),e.next=21;break;case 20:console.log("error");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))()})),"save",(function(){var t=this;return Object(C.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.buttonDisabled=!0,t.name&&t.date&&t.data&&t.category){e.next=4;break}return F.a.fire({icon:"warning",title:"กรุณากรอกข้อมูลให้ครบถ้วน"}),e.abrupt("return");case 4:return t.loading=!0,console.log(t.date),n=Object(B.b)(S.a,"note"),e.next=9,Object(B.e)(n);case 9:return r=e.sent,r.size,e.next=13,Object(B.a)(Object(B.b)(S.a,"note"),{name:t.name,date:t.date,data:t.data,category:t.category});case 13:e.sent,t.listData(),F.a.fire({position:"center",icon:"success",title:"บันทึกข้อมูลสำเร็จ",timer:1500}),t.data="",t.category="",t.saveMode="",t.close();case 20:case"end":return e.stop()}}),e)})))()})),"editItem",(function(t){this.SET_REFID(t),this.dialog=!0,this.name=t.name,this.data=t.data,this.dateFormatted=t.date,this.refId=t.refId,this.category=t.category,this.saveMode="edit",this.formTitle="แก้ไขรายการ"})),"listData",(function(){var t=this;return Object(C.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.e)(Object(B.b)(S.a,"note"));case 2:n=e.sent,r=[],n.forEach((function(e){var n=e.data();n.refId=e.id,n.date=t.formatDateInsert(n.date),r.push(n)})),r.forEach((function(e){var n=t.items_data.findIndex((function(t){return t.refId===e.refId}));-1!==n?t.$set(t.items_data,n,e):t.items_data.push(e)})),t.items_data=t.items_data.filter((function(t){return r.some((function(e){return e.refId===t.refId}))}));case 7:case"end":return e.stop()}}),e)})))()})),"deleteData",(function(t){var e=this;return Object(C.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:F.a.fire({title:"ต้องการลบข้อมูลนี้หรือไม่?",text:"เมื่อลบไปแล้วไม่สามารถเรียกข้อมูลเดิมได้อีก",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"ยกเลิก",confirmButtonText:"ยืนยัน"}).then(function(){var n=Object(C.a)(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.isConfirmed){n.next=7;break}return n.next=3,Object(B.c)(Object(B.d)(S.a,"note",t.refId));case 3:F.a.fire({title:"ลบข้อมูลสำเร็จ",icon:"success",showCancelButton:!1}),e.listData(),n.next=7;break;case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}());case 1:case"end":return n.stop()}}),n)})))()})),"gotoHistory",(function(t){var e=this;return Object(C.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.SET_REFID(t),e.$router.push({path:"/history"});case 2:case"end":return n.stop()}}),n)})))()})))},$=z,H=(n(564),n(91)),component=Object(H.a)($,(function(){var t=this,e=t._self._c;return e(m.a,{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.filteredItems},scopedSlots:t._u([{key:"top",fn:function(){return[e(D.a,{attrs:{flat:""}},[e(I.a,[t._v("รายการ")]),t._v(" "),e(y.a,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),e(_.a),t._v(" "),e(k.a,[e(d.a,{attrs:{cols:"6"}}),t._v(" "),e(d.a,{attrs:{cols:"3"}},[e(r.a,{attrs:{label:"หมวดหมู่","single-line":"","hide-details":"",items:t.categoryListSearch},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),e(d.a,{attrs:{cols:"3"}},[e(o.a,{staticClass:"mb-2",attrs:{color:"green",dark:""},on:{click:t.openDialog}},[t._v("\n            + เพิ่มรายการ\n          ")])],1)],1),t._v(" "),e(v.a,{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(x.a,{ref:"from"},[e(c.a,[e(l.c,[e("span",{staticClass:"text-h5"},[t._v("เพิ่มรายการ")])]),t._v(" "),e(l.b,[e(f.a,[e(k.a,[e(d.a,{attrs:{cols:"12",sm:"12",md:"12"}},[e(w.a,{attrs:{label:"ชื่อ",outlined:"",dense:"",disabled:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",sm:"12",md:"12"}},[e(w.a,{attrs:{label:"รายการ",outlined:"",dense:""},model:{value:t.data,callback:function(e){t.data=e},expression:"data"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",sm:"6",md:"6"}},[e(j.a,{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(w.a,t._g(t._b({attrs:{outlined:"",dense:"","append-icon":"mdi-calendar-month",label:"วันที่บันทึก",disabled:""},model:{value:t.dateFormatted,callback:function(e){t.dateFormatted=e},expression:"dateFormatted"}},"v-text-field",o,!1),r))]}}]),model:{value:t.menudate,callback:function(e){t.menudate=e},expression:"menudate"}},[t._v(" "),e(h.a,{ref:"picker",attrs:{locale:"th"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[e(l.a,{staticStyle:{margin:"-30px 0px 0px 190px"}},[e(o.a,{attrs:{color:"primary",readonly:""},on:{click:function(e){t.menudate=!1}}},[t._v("\n                            ตกลง\n                          ")])],1)],1)],1)],1),t._v(" "),e(d.a,{attrs:{cols:"12",sm:"6",md:"6"}},[e(r.a,{attrs:{label:"หมวดหมู่",outlined:"",dense:"",items:t.categoryList},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1)],1)],1)],1),t._v(" "),e(l.a,[e(_.a),t._v(" "),e(o.a,{staticClass:"cancel-btn",attrs:{color:"white darken-1",text:""},on:{click:t.close}},[t._v("\n                ยกเลิก\n              ")]),t._v(" "),e(o.a,{staticClass:"save-btn",attrs:{color:"white darken-1",text:""},on:{click:function(e){"edit"===t.saveMode?t.saveEdit():t.save()}}},[t._v("\n                "+t._s("edit"===t.saveMode?"บันทึกแก้ไข":"บันทึก")+"\n              ")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(n){var r=n.item;return[e(O.a,{staticClass:"mr-2",attrs:{small:"",color:"blue"},on:{click:function(e){return t.editItem(r)}}},[t._v("\n      mdi-pencil\n    ")]),t._v(" "),e(O.a,{attrs:{small:"",color:"red"},on:{click:function(e){return t.deleteData(r)}}},[t._v(" mdi-delete ")])]}},{key:"item.actions2",fn:function(n){var r=n.item;return[e(O.a,{attrs:{small:""},on:{click:function(e){return t.gotoHistory(r)}}},[t._v(" mdi-history ")])]}},{key:"no-data",fn:function(){return[e(o.a,{attrs:{color:"primary"},on:{click:t.initialize}},[t._v(" Reset ")])]},proxy:!0}],null,!0)})}),[],!1,null,null,null);e.default=component.exports}}]);